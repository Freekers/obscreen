name: PR trigger if admin

on:
  pull_request:
    types: [opened, synchronize]
  push:
    branches-ignore:
      - 'master'
      - 'develop'
      - 'nightly'

jobs:
  add-label:
    runs-on: ubuntu-latest
    if: github.event.pull_request.user.login == 'jr-k' && !contains(github.event.pull_request.labels.*.name, 'build-pr')

    steps:
    - name: Add build-pr label
      uses: actions-ecosystem/action-add-labels@v1
      with:
        labels: build-pr
        github_token: ${{ secrets.GA_TOKEN }}
